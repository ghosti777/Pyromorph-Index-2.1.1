<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üî• Pyromorph Index 3.4 üî•</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #111; color: #fff; margin: 0; padding: 0; }
        .container { max-width: 500px; margin: auto; padding: 15px; background: #222; border-radius: 10px; }
        .indicator { display: flex; justify-content: space-between; margin: 5px 0; }
        .sub-options { padding-left: 20px; }
        .timeframe, .conditions { margin-top: 10px; }
        button { padding: 12px; margin-top: 15px; font-size: 20px; cursor: pointer; border-radius: 8px; background: #ff4500; color: #fff; border: none; width: 100%; }
        button:hover { background: #ff6347; }
        .result, .analysis, .quote { font-size: 24px; font-weight: bold; margin-top: 10px; padding: 10px; }
        select { padding: 8px; font-size: 16px; border-radius: 5px; background: #333; color: white; width: 100%; }
        .result { background: #333; border-radius: 8px; }
        .analysis { background: #222; border-radius: 8px; }
        .quote { background: #444; border-radius: 8px; font-style: italic; font-size: 18px; }
    </style>
    <script src="quotes.js"></script> <!-- Loads the external quotes file -->
</head>
<body>

    <div class="container">
        <h2>üî• Pyromorph Index 3.4 üî•</h2>
        <p>Select indicators, market conditions, and timeframe:</p>

        <div id="indicators">
            <div class="indicator"><span>Liquidity Grabs</span><input type="checkbox" id="liqGrab" value="4.5"></div>
            <div class="sub-options">
                <div class="indicator"><span>‚Ü≥ Impulse Move üî•</span><input type="checkbox" id="liqImpulse" value="1.3"></div>
                <div class="indicator"><span>‚Ü≥ Cluster Signal üåÄ</span><input type="checkbox" id="liqCluster" value="1.2"></div>
                <div class="indicator"><span>‚Ü≥ Choppy Grab ‚ùå</span><input type="checkbox" id="liqChoppy" value="-0.8"></div>
                <div class="indicator"><span>‚Ü≥ Volume Confirmation üìä</span><input type="checkbox" id="liqVolume" value="1.1"></div>
            </div>

            <div class="indicator"><span>Lux Algo SuperTrend AI</span><input type="checkbox" id="superTrend"></div>
            <div class="sub-options">
                <label for="stStrength">‚Ü≥ Signal Strength:</label>
                <select id="stStrength">
                    <option value="1.0">0Ô∏è‚É£ (Weak)</option>
                    <option value="0.9">1Ô∏è‚É£</option>
                    <option value="0.8">2Ô∏è‚É£</option>
                    <option value="0.7">3Ô∏è‚É£</option>
                    <option value="0.6">4Ô∏è‚É£</option>
                    <option value="0.5">5Ô∏è‚É£ (Strong)</option>
                </select>
                <div class="indicator"><span>‚Ü≥ Countertrend Signal ‚ùå</span><input type="checkbox" id="stCounterTrend"></div>
            </div>

            <div class="indicator"><span>UT Bot Alerts</span><input type="checkbox" value="4.5"></div>
            <div class="indicator"><span>Schaff Trend Cycle (STC)</span><input type="checkbox" value="4"></div>
            <div class="indicator"><span>JS Squeeze Pro 2</span><input type="checkbox" value="4.5"></div>
            <div class="indicator"><span>AlgoAlpha SuperTrend (Entry/Exit)</span><input type="checkbox" value="4.5"></div>
            <div class="indicator"><span>VWAP</span><input type="checkbox" value="3.5"></div>
            <div class="indicator"><span>Relative Volume (RVOL)</span><input type="checkbox" value="3.5"></div>
            <div class="indicator"><span>EMA/SMA Resistance</span><input type="checkbox" value="3.5"></div>
            <div class="indicator"><span>Support & Demand Zones</span><input type="checkbox" value="3.5"></div>
            <div class="indicator"><span>AlgoAlpha Trend Strength TPs</span><input type="checkbox" value="3.5"></div>
            <div class="indicator"><span>RedK EVEREX</span><input type="checkbox" value="3.5"></div>
        </div>

        <div class="conditions">
            <label for="dualCloud">Dual Cloud Setup:</label>
            <select id="dualCloud">
                <option value="1.2">1Ô∏è‚É£ Best Case (Both Aligned)</option>
                <option value="1.1">2Ô∏è‚É£ Strong Case (Big Cloud Aligned)</option>
                <option value="0.9">3Ô∏è‚É£ Moderate Case (Small Cloud Aligned)</option>
                <option value="0.7">4Ô∏è‚É£ Worst Case (Neither Aligned)</option>
            </select>

            <label for="atr">ATR Market Condition:</label>
            <select id="atr">
                <option value="1.2">1Ô∏è‚É£ Trending Market</option>
                <option value="1.0">2Ô∏è‚É£ Neutral/Sideways</option>
                <option value="0.8">3Ô∏è‚É£ Choppy/High Volatility</option>
            </select>
        </div>

        <div class="timeframe">
            <label for="timeframe">Select Timeframe:</label>
            <select id="timeframe">
                <option value="1.3">1M-5M</option>
                <option value="1.5">15M</option>
                <option value="1.8">30M</option>
            </select>
        </div>

        <button onclick="calculateScore()">üöÄ Calculate üöÄ</button>

        <div class="result" id="result">Score: --</div>
        <div class="analysis" id="analysis"></div>
        <div class="quote" id="quote"></div>
    </div>

<script>
function calculateScore() {
    let baseScore = 0;
    let countertrendPenalty = 1.0; // Default multiplier (no penalty)

    // Loop through indicators and add their values
    document.querySelectorAll('#indicators input:checked').forEach(el => {
        baseScore += parseFloat(el.value) || 0; // Prevents NaN errors
    });

    // Apply Liquidity Grab Adjustments if selected
    if (document.getElementById('liqGrab').checked) {
        if (document.getElementById('liqImpulse').checked) baseScore *= 1.3;
        if (document.getElementById('liqCluster').checked) baseScore *= 1.2;
        if (document.getElementById('liqChoppy').checked) baseScore *= 0.8;
        if (document.getElementById('liqVolume').checked) baseScore *= 1.1;
    }

    // Apply SuperTrend Strength Scaling (if selected)
    let superTrendSelect = document.getElementById('superTrendStrength');
    let superTrendStrength = parseFloat(superTrendSelect?.value || 1.0);
    baseScore *= superTrendStrength; 

    // Apply Countertrend Penalty (if selected)
    if (document.getElementById('counterTrend').checked) countertrendPenalty = 0.85;
    
    // Apply Market Condition Multipliers
    let timeframeMultiplier = parseFloat(document.getElementById('timeframe').value) || 1;
    let dualCloudMultiplier = parseFloat(document.getElementById('dualCloud').value) || 1;
    let atrMultiplier = parseFloat(document.getElementById('atr').value) || 1;

    // Final Calculation (ensures max score of 100)
    let finalScore = baseScore * timeframeMultiplier * dualCloudMultiplier * atrMultiplier * countertrendPenalty;
    finalScore = Math.min(finalScore, 100); 

    // Set Analysis Text
    let analysisText = "";
    if (finalScore >= 90) {
        analysisText = "üî• Ultra High Conviction Trade üî•";
    } else if (finalScore >= 75) {
        analysisText = "‚úÖ Strong Conviction Trade";
    } else if (finalScore >= 50) {
        analysisText = "‚ö†Ô∏è Moderate Conviction Trade";
    } else if (finalScore >= 30) {
        analysisText = "‚ùì Low Conviction Trade";
    } else {
        analysisText = "üö´ No Conviction / Avoid Trade";
    }

    // Display Score, Analysis, and Random Quote
    let randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
    document.getElementById('result').innerText = `Score: ${finalScore.toFixed(1)}`;
    document.getElementById('analysis').innerText = analysisText;
    document.getElementById('quote').innerText = `üê∫ ${randomQuote}`;
}
</script>
</body>
</html>